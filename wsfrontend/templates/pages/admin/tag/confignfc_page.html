{% extends "base_templates/config_base.html" %}
{% import 'base_templates/config_macros.html' as cfg %}

{% set tag_active_page = "tagconfnfc" %}
{% block headerscripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.3/moment.js"></script>
<script src="{{ url_for('dashboard.static', filename='webnfc.js') }}" defer></script>
<script src="{{ url_for('dashboard.static', filename='confignfc.js') }}" defer></script>
<script>

  function initialise() {
    let controller = new Controller(configsubject);
    let view = new NavView(controller);
    let webnfcview = new WebNFCView(controller);
    {{ cfg.checkfeature('nfc') }}

    configsubject.notifyAll();
  }
</script>
{% endblock %}

{% block tagmain %}
  <section class="section">
    <div class="container">
      {{ cfg.notsupported("WebNFC") }}
      {{ cfg.serial(tag) }}
      {{ cfg.usehttps() }}
      {{ cfg.baseurl() }}
      {{ cfg.usehmac() }}
      {{ cfg.secretkey(tag) }}
      {{ cfg.trhradio() }}
      {{ cfg.smplinterval() }}
      {{ cfg.configtext() }}
      <button id="writebutton" type="button" disabled>Write to Tag</button>
    </div>
  </section>
  <section class="section">
    <div class="container">
      <pre id="log"></pre>
    </div>
  </section>
{% endblock %}